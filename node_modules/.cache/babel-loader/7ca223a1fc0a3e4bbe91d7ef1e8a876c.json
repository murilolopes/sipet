{"remainingRequest":"/home/murilo/code/murilo/sipet/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/home/murilo/code/murilo/sipet/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/murilo/code/murilo/sipet/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/murilo/code/murilo/sipet/src/sales/router/views/pages/ui/forms/wizard/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/murilo/code/murilo/sipet/src/sales/router/views/pages/ui/forms/wizard/index.vue","mtime":1587601170735},{"path":"/home/murilo/code/murilo/sipet/.babelrc","mtime":1587599733863},{"path":"/home/murilo/code/murilo/sipet/node_modules/cache-loader/dist/cjs.js","mtime":1583949852443},{"path":"/home/murilo/code/murilo/sipet/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":1583949836565},{"path":"/home/murilo/code/murilo/sipet/node_modules/cache-loader/dist/cjs.js","mtime":1583949852443},{"path":"/home/murilo/code/murilo/sipet/node_modules/vue-loader/lib/index.js","mtime":1583949852838}],"contextDependencies":[],"result":["import { required } from 'vuelidate/lib/validators';\n\nvar Card = require(\"card\");\n\nimport { FormWizard, TabContent } from 'vue-form-wizard';\nimport appConfig from '@sales-src/app.config';\nimport Layout from '@sales-layouts/main';\nimport PageHeader from '@sales-components/page-header';\nimport Step1 from './step1';\nimport Step2 from './step2';\nexport default {\n  page: {\n    title: 'Assine',\n    meta: [{\n      name: 'description',\n      content: appConfig.description\n    }]\n  },\n  components: {\n    Layout,\n    PageHeader,\n    FormWizard,\n    TabContent,\n    Step1,\n    Step2\n  },\n\n  data() {\n    return {\n      client: {},\n      terms: false,\n      showWelcome: false,\n      wizard: {\n        activeTabIndex: 0\n      },\n      items: [],\n      finalModel: {\n        pets: []\n      },\n      cardId: '',\n      card: {\n        number: '',\n        name: '',\n        expiry: '',\n        cvc: ''\n      },\n      cardOptions: {}\n    };\n  },\n\n  validations: {\n    card: {\n      number: {\n        required,\n        minLength: value => value.replace(/\\D/g, '').length > 15\n      },\n      name: {\n        required\n      },\n      expiry: {\n        required,\n        minLength: value => value.replace(/\\D/g, '').length == 4\n      },\n      cvc: {\n        required,\n        minLength: value => value.replace(/\\D/g, '').length > 2\n      }\n    }\n  },\n\n  mounted() {\n    this.wizard = this.$refs.wizard;\n    setTimeout(() => {\n      this.cardOptions = new Card({\n        form: '#cardForm',\n        container: '.card-wrapper',\n        formSelectors: {\n          nameInput: 'input[name=\"name\"]'\n        },\n        placeholders: {\n          number: '**** **** **** ****',\n          name: 'Eu Amo Meu Pet',\n          expiry: '**/**',\n          cvc: '***'\n        }\n      });\n    }, 10);\n  },\n\n  computed: {\n    title() {\n      let index = this.wizard.activeTabIndex;\n      let titles = ['Informações pessoais', 'Beneficiários', 'Pagamento', 'Finalização'];\n      return titles[index];\n    },\n\n    totalValue() {\n      let value = 0;\n      this.finalModel.pets.filter(pet => {\n        pet.categories.filter(c => {\n          value += c.price;\n        });\n      });\n      return this.numberParaReal(value);\n    },\n\n    revision() {\n      let quantity = 'Um pet';\n      if (this.finalModel.pets.length > 1) quantity = `São ${this.finalModel.pets.length} pets`;\n      return `${quantity} no valor de ${this.totalValue} reais cobrados mensalmente \n\t\t\t\t\t\te individualmente por pet e seu respectivo plano.`;\n    }\n\n  },\n  methods: {\n    showTerms() {\n      if (this.terms) this.saveClient();else this.$bvModal.show('terms-modal');\n    },\n\n    async saveClient() {\n      this.$v.card.$touch();\n      this.$bvModal.hide('terms-modal');\n      if (this.$v.card.$invalid) return;\n      window.Swal.showLoading();\n      const cards = this.$pagarme.cards;\n      await cards.create({\n        card_number: this.card.number.split(\" \").join(\"\"),\n        card_holder_name: this.card.name,\n        card_expiration_date: this.card.expiry.replace(\"/\", \"\"),\n        card_cvv: this.card.cvc\n      }).then(response => this.cardId = response.id);\n      this.finalModel.client.cpf = this.finalModel.client.cpf.replace(\"-\", \"\").replace(\".\", \"\").replace(\".\", \"\");\n      let client = {\n        client: { ...this.finalModel.client,\n          pets_attributes: this.finalModel.pets\n        },\n        card: this.cardId\n      };\n      this.$api.post('/clients', client).then(response => {\n        this.showWelcome = true;\n        window.Swal.fire('Sucesso', 'Assinatura finalizada com sucesso.', 'success');\n        this.client = response.data;\n      }).catch(error => {\n        if (error.response.status == 422) {\n          window.Swal.fire('Erro', error.response.data.message, 'error');\n        } else {\n          window.Swal.fire('Erro', 'Erro no servidor, tente novamente mais tarde.', 'error');\n        }\n      });\n    },\n\n    numberParaReal(value) {\n      let formated = \"R$ \" + (value / 100).toFixed(2).replace(\".\", \",\");\n      return formated;\n    },\n\n    validateStep(name) {\n      var refToValidate = this.$refs[name];\n      return refToValidate.validate();\n    },\n\n    mergePartialModels(model, isValid) {\n      if (isValid) {\n        this.finalModel = Object.assign(this.finalModel, model);\n      }\n    },\n\n    deletePet(index) {\n      this.finalModel.pets.splice(index, 1);\n    },\n\n    pet_specie(pet) {\n      return this.species.filter(specie => specie.value == pet.species.value)[0].label;\n    },\n\n    pet_gender(pet) {\n      return this.genders.filter(gender => gender.value == pet.gender.value)[0].label;\n    },\n\n    pet_plan(pet) {\n      return this.finalModel.plans.filter(plan => plan.id == pet.plan_id)[0].name;\n    }\n\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<script>\nimport { required } from 'vuelidate/lib/validators'\n  \nvar Card = require(\"card\");\n\nimport { FormWizard, TabContent } from 'vue-form-wizard'\n\nimport appConfig from '@sales-src/app.config'\nimport Layout from '@sales-layouts/main'\nimport PageHeader from '@sales-components/page-header'\n\nimport Step1 from './step1'\nimport Step2 from './step2'\n\nexport default {\n\tpage: {\n\t\ttitle: 'Assine',\n\t\tmeta: [{ name: 'description', content: appConfig.description }],\n\t},\n\tcomponents: { Layout, PageHeader, FormWizard, TabContent, Step1, Step2 },\n\tdata() {\n\t\treturn {\n\t\t\tclient: {},\n\t\t\tterms: false,\n\t\t\tshowWelcome: false,\n\t\t\twizard: {\n\t\t\t\tactiveTabIndex: 0\n\t\t\t},\n\t\t\titems: [],\n\t\t\tfinalModel: {\n\t\t\t\tpets: []\n\t\t\t},\n\t\t\tcardId: '',\n\t\t\tcard: {\n\t\t\t\tnumber: '',\n\t\t\t\tname: '',\n\t\t\t\texpiry: '',\n\t\t\t\tcvc: '',\n\t\t\t},\n\t\t\tcardOptions: {}\n\t\t}\n\t},\n\tvalidations: {\n\t\tcard: {\n\t\t\tnumber: { \n\t\t\t\trequired,\n\t\t\t\tminLength: (value) => value.replace(/\\D/g, '').length > 15\n\t\t\t},\n\t\t\tname: { \n\t\t\t\trequired,\n\t\t\t},\n\t\t\texpiry: { \n\t\t\t\trequired,\n\t\t\t\tminLength: (value) => value.replace(/\\D/g, '').length == 4\n\t\t\t},\n\t\t\tcvc: { \n\t\t\t\trequired,\n\t\t\t\tminLength: (value) => value.replace(/\\D/g, '').length > 2\n\t\t\t},\n\t\t}\n\t}, \n\tmounted() {\n\t\tthis.wizard = this.$refs.wizard\n\n\t\tsetTimeout(() => {\n\t\t\tthis.cardOptions = new Card({\n\t\t\t\tform: '#cardForm',\n\t\t\t\t\tcontainer: '.card-wrapper',\n\t\t\t\t\tformSelectors: {\n\t\t\t\t\tnameInput: 'input[name=\"name\"]'\n\t\t\t\t},\n\t\t\t\tplaceholders: {\n\t\t\t\t\tnumber: '**** **** **** ****',\n\t\t\t\t\tname: 'Eu Amo Meu Pet',\n\t\t\t\t\texpiry: '**/**',\n\t\t\t\t\tcvc: '***'\n\t\t\t\t}\n\t\t\t})\n\t\t}, 10)\n\t},\n\tcomputed: {\n\t\ttitle() {\n\t\t\tlet index = this.wizard.activeTabIndex\n\t\t\tlet titles = ['Informações pessoais', 'Beneficiários', 'Pagamento', 'Finalização'] \n\t\t\treturn titles[index]\n\t\t},\n\t\ttotalValue() {\n\t\t\tlet value = 0\n\t\t\tthis.finalModel.pets.filter(pet => {\n\t\t\t\tpet.categories.filter(c => {\n\t\t\t\t\tvalue += c.price\n\t\t\t\t})\n\t\t\t})\n\n\t\t\treturn this.numberParaReal(value)\n\t\t},\n\t\trevision() {\n\t\t\tlet quantity = 'Um pet'\n\t\t\tif (this.finalModel.pets.length > 1) quantity =  `São ${this.finalModel.pets.length} pets`\n\n\n\t\t\treturn `${quantity} no valor de ${this.totalValue} reais cobrados mensalmente \n\t\t\t\t\t\te individualmente por pet e seu respectivo plano.`\n\t\t}\n\t},\n\tmethods: {\n\t\tshowTerms() {\n\t\t\tif (this.terms)\n\t\t\t\tthis.saveClient()\n\t\t\telse\n\t\t\t\tthis.$bvModal.show('terms-modal')\n\t\t},\n\t\tasync saveClient() {\n\t\t\tthis.$v.card.$touch()\n\t\t\tthis.$bvModal.hide('terms-modal')\n\t\t\tif (this.$v.card.$invalid) return\n\n\t\t\twindow.Swal.showLoading()\n\n\t\t\tconst cards = this.$pagarme.cards\n\t\t\tawait cards.create({\n\t\t\t\tcard_number: this.card.number.split(\" \").join(\"\"),\n\t\t\t\tcard_holder_name: this.card.name,\n\t\t\t\tcard_expiration_date: this.card.expiry.replace(\"/\", \"\"),\n\t\t\t\tcard_cvv: this.card.cvc,\n\t\t\t}).then(response => this.cardId = response.id)\n\t\t\t\t\t\n\n\t\t\tthis.finalModel.client.cpf = this.finalModel.client.cpf.replace(\"-\", \"\").replace(\".\", \"\").replace(\".\", \"\")\n\t\t\tlet client = {\n\t\t\t\tclient: {\n\t\t\t\t\t...this.finalModel.client,\n\t\t\t\t\tpets_attributes: this.finalModel.pets\n\t\t\t\t},\n\t\t\t\tcard: this.cardId\n\t\t\t}\n\n\t\t\tthis.$api.post('/clients', client)\n\t\t\t\t.then(response => {\n\t\t\t\t\tthis.showWelcome = true\n\t\t\t\t\twindow.Swal.fire('Sucesso', 'Assinatura finalizada com sucesso.', 'success')\n\t\t\t\t\tthis.client = response.data\n\t\t\t\t}).catch(error => {\n\t\t\t\t\tif (error.response.status == 422) {\n\t\t\t\t\t\twindow.Swal.fire('Erro', error.response.data.message, 'error')\n\t\t\t\t\t} else {\n\t\t\t\t\t\twindow.Swal.fire('Erro', 'Erro no servidor, tente novamente mais tarde.', 'error')\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t},\n\t\tnumberParaReal(value){\n\t\t\tlet formated = \"R$ \" + (value/100).toFixed(2).replace(\".\",\",\");\n\t\t\treturn formated;\n\t\t},\n\t\tvalidateStep(name) {\n\t\t\tvar refToValidate = this.$refs[name]\n\t\t\treturn refToValidate.validate()\n\t\t},\n\t\tmergePartialModels(model, isValid) {\n\t\t\tif (isValid) {\n\t\t\t\tthis.finalModel = Object.assign(this.finalModel, model)\n\t\t\t}\n\t\t},\n\n\t\tdeletePet(index) {\n\t\t\tthis.finalModel.pets.splice(index, 1)\n\t\t},\n\t\tpet_specie(pet) {\n\t\t\treturn this.species.filter(specie => specie.value == pet.species.value)[0].label\n\t\t},\n\t\tpet_gender(pet) {\n\t\t\treturn this.genders.filter(gender => gender.value == pet.gender.value)[0].label\n\t\t},\n\t\tpet_plan(pet) {\n\t\t\treturn this.finalModel.plans.filter(plan => plan.id == pet.plan_id)[0].name\n\t\t},\n\t},\n}\n</script>\n\n<template>\n\t<Layout>\n\t\t<PageHeader :title=\"title\" class=\"text-center\"/>\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-12\">\n\t\t\t\t<div class=\"card\">\n\t\t\t\t\t<div class=\"card-body\">\n\t\t\t\t\t\t<form-wizard ref=\"wizard\" color=\"#5369f8\" error-color=\"#ff5c75\" \n\t\t\t\t\t\t\tnextButtonText=\"Proximo\" backButtonText=\"Voltar\" finishButtonText=\"Finalizar\">\n\t\t\t\t\t\t\t<tab-content title=\"\" :before-change=\"() => validateStep('step1')\">\n\t\t\t\t\t\t\t\t<Step1 ref=\"step1\" @on-validate=\"mergePartialModels\" />\n\t\t\t\t\t\t\t</tab-content>\n\t\t\t\t\t\t\t<tab-content title=\"\" :before-change=\"() => validateStep('step2')\">\n\t\t\t\t\t\t\t\t<Step2 ref=\"step2\" @on-validate=\"mergePartialModels\" />\n\t\t\t\t\t\t\t</tab-content>\n\t\t\t\t\t\t\t<tab-content title=\"\">\n\t\t\t\t\t\t\t\t<div class=\"row\" v-if=\"!showWelcome\">\n\t\t\t\t\t\t\t\t\t<div class=\"col-12\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t<h2 class=\"mt-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"mdi mdi-check-all\"></i>\n\t\t\t\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"col-12\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"card-wrapper\" style=\"margin-left: -34px\"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-12\">\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-12 col-lg-4 offset-lg-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<form id=\"cardForm\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"row\" style=\"margin-top: 10px\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-12 col-lg-12\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b-form-group label-for=\"cardNumber\"  :class=\"{ 'has-error': $v.card.number.$error }\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label> Número <span class=\"text-danger\">*</span> </label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input class=\"form-control\" id=\"cardNumber\" name=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"tel\" v-model=\"card.number\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"{ 'is-invalid': $v.card.number.$error }\" />\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div v-if=\"$v.card.number.$error\" class=\"invalid-feedback\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span v-if=\"!$v.card.number.required || !$v.card.number.minLength\">Este campo é obrigatório.</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</b-form-group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-12 col-lg-12\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b-form-group label-for=\"cardName\"  :class=\"{ 'has-error': $v.card.name.$error }\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label> Nome do Titular <span class=\"text-danger\">*</span> </label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input class=\"form-control\" id=\"cardName\" name=\"name\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\" v-model=\"card.name\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"{ 'is-invalid': $v.card.name.$error }\" />\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div v-if=\"$v.card.name.$error\" class=\"invalid-feedback\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span v-if=\"!$v.card.name.required\">Este campo é obrigatório.</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</b-form-group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-6 col-lg-6\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b-form-group label-for=\"cardExpiry\"  :class=\"{ 'has-error': $v.card.expiry.$error }\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label> Expira <span class=\"text-danger\">*</span> </label> \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input class=\"form-control\" id=\"cardExpiry\"  name=\"expiry\" type=\"tel\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"card.expiry\" v-mask=\"'##/##'\" :class=\"{ 'is-invalid': $v.card.expiry.$error }\" />\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div v-if=\"$v.card.expiry.$error\" class=\"invalid-feedback\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span v-if=\"!$v.card.expiry.required || !$v.card.expiry.minLength\">Este campo é obrigatório.</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</b-form-group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-6 col-lg-6\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b-form-group label-for=\"cardCVC\"  :class=\"{ 'has-error': $v.card.cvc.$error }\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label> CVC <span class=\"text-danger\">*</span> </label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input class=\"form-control\" id=\"cardCVC\"  name=\"cvc\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"tel\" v-model=\"card.cvc\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"{ 'is-invalid': $v.card.cvc.$error }\" />\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div v-if=\"$v.card.cvc.$error\" class=\"invalid-feedback\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span v-if=\"!$v.card.cvc.required || !$v.card.cvc.minLength\">Este campo é obrigatório.</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</b-form-group>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"col-12\" v-else>\n\t\t\t\t\t\t\t\t\t<div class=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t<h2 class=\"mt-0\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"mdi mdi-check-all\"></i>\n\t\t\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t\t\t<h3 class=\"mt-0\">Bem vindo {{ client.name }}!</h3>\n\t\t\t\t\t\t\t\t\t\t<p class=\"mb-2 mx-auto\">\n\t\t\t\t\t\t\t\t\t\t\tParabéns pela assinatura, em poucos instantes você receberá um\n\t\t\t\t\t\t\t\t\t\t\temail com instruções sobre como, quando e onde usar seu plano e\n\t\t\t\t\t\t\t\t\t\t\ttambém como gerenciá-lo.\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</tab-content>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<b-button slot=\"prev\" variant=\"outline-dark\" :disabled=\"!!client.id\">Voltar</b-button>\n\t\t\t\t\t\t\t<b-button slot=\"next\" variant=\"outline-primary\"> \n\t\t\t\t\t\t\t\t{{ wizard.activeTabIndex != 2 ? 'Proximo' : 'Revisar' }}\n\t\t\t\t\t\t\t</b-button>\n\t\t\t\t\t\t\t<b-button slot=\"finish\" variant=\"outline-success\" :disabled=\"!!client.id\"\n\t\t\t\t\t\t\t\t@click.prevent=\"showTerms()\">\n\t\t\t\t\t\t\t\tFinalizar\n\t\t\t\t\t\t\t</b-button>\n\t\t\t\t\t\t</form-wizard>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<b-modal id=\"terms-modal\" scrollable title=\"Termos e condições\"\n\t\t\ttitle-class=\"font-18\" hide-header-close no-close-on-backdrop>\n\t\t\t<p>Cras mattis consectetur purus sit amet fermentum. Cras justo\n\t\t\t\todio, dapibus ac facilisis in, egestas eget quam. Morbi leo\n\t\t\t\trisus, porta ac consectetur ac, vestibulum at eros.\n\t\t\t</p>\n\t\t\t<p>Cras mattis consectetur purus sit amet fermentum. Cras justo\n\t\t\t\todio, dapibus ac facilisis in, egestas eget quam. Morbi leo\n\t\t\t\trisus, porta ac consectetur ac, vestibulum at eros.\n\t\t\t</p>\n\t\t\t<p>Cras mattis consectetur purus sit amet fermentum. Cras justo\n\t\t\t\todio, dapibus ac facilisis in, egestas eget quam. Morbi leo\n\t\t\t\trisus, porta ac consectetur ac, vestibulum at eros.\n\t\t\t</p>\n\t\t\t<p>Cras mattis consectetur purus sit amet fermentum. Cras justo\n\t\t\t\todio, dapibus ac facilisis in, egestas eget quam. Morbi leo\n\t\t\t\trisus, porta ac consectetur ac, vestibulum at eros.\n\t\t\t</p>\n\t\t\t<p>Cras mattis consectetur purus sit amet fermentum. Cras justo\n\t\t\t\todio, dapibus ac facilisis in, egestas eget quam. Morbi leo\n\t\t\t\trisus, porta ac consectetur ac, vestibulum at eros.\n\t\t\t</p>\n\t\t\t<p>Cras mattis consectetur purus sit amet fermentum. Cras justo\n\t\t\t\todio, dapibus ac facilisis in, egestas eget quam. Morbi leo\n\t\t\t\trisus, porta ac consectetur ac, vestibulum at eros.\n\t\t\t</p>\n\t\t\t<p>Cras mattis consectetur purus sit amet fermentum. Cras justo\n\t\t\t\todio, dapibus ac facilisis in, egestas eget quam. Morbi leo\n\t\t\t\trisus, porta ac consectetur ac, vestibulum at eros.\n\t\t\t</p>\n\t\t\t<p>Cras mattis consectetur purus sit amet fermentum. Cras justo\n\t\t\t\todio, dapibus ac facilisis in, egestas eget quam. Morbi leo\n\t\t\t\trisus, porta ac consectetur ac, vestibulum at eros.\n\t\t\t</p>\n\t\t\t<p>Cras mattis consectetur purus sit amet fermentum. Cras justo\n\t\t\t\todio, dapibus ac facilisis in, egestas eget quam. Morbi leo\n\t\t\t\trisus, porta ac consectetur ac, vestibulum at eros.\n\t\t\t</p>\n\t\t\t<p>Cras mattis consectetur purus sit amet fermentum. Cras justo\n\t\t\t\todio, dapibus ac facilisis in, egestas eget quam. Morbi leo\n\t\t\t\trisus, porta ac consectetur ac, vestibulum at eros.\n\t\t\t</p>\n\t\t\t<p>Cras mattis consectetur purus sit amet fermentum. Cras justo\n\t\t\t\todio, dapibus ac facilisis in, egestas eget quam. Morbi leo\n\t\t\t\trisus, porta ac consectetur ac, vestibulum at eros.\n\t\t\t</p>\n\t\t\t<p>Cras mattis consectetur purus sit amet fermentum. Cras justo\n\t\t\t\todio, dapibus ac facilisis in, egestas eget quam. Morbi leo\n\t\t\t\trisus, porta ac consectetur ac, vestibulum at eros.\n\t\t\t</p>\n\t\t\t<p>Cras mattis consectetur purus sit amet fermentum. Cras justo\n\t\t\t\todio, dapibus ac facilisis in, egestas eget quam. Morbi leo\n\t\t\t\trisus, porta ac consectetur ac, vestibulum at eros.\n\t\t\t</p>\n\t\t\t<p>Cras mattis consectetur purus sit amet fermentum. Cras justo\n\t\t\t\todio, dapibus ac facilisis in, egestas eget quam. Morbi leo\n\t\t\t\trisus, porta ac consectetur ac, vestibulum at eros.\n\t\t\t</p>\n\t\t\t<p>Cras mattis consectetur purus sit amet fermentum. Cras justo\n\t\t\t\todio, dapibus ac facilisis in, egestas eget quam. Morbi leo\n\t\t\t\trisus, porta ac consectetur ac, vestibulum at eros.\n\t\t\t</p>\n\t\t\t<p>Cras mattis consectetur purus sit amet fermentum. Cras justo\n\t\t\t\todio, dapibus ac facilisis in, egestas eget quam. Morbi leo\n\t\t\t\trisus, porta ac consectetur ac, vestibulum at eros.\n\t\t\t</p>\n\n\t\t\t<div class=\"row mb-3\">\n\t\t\t\t<div class=\"col-12\">\n\t\t\t\t\t<div class=\"custom-control custom-checkbox text-center\">\n\t\t\t\t\t\t<input id=\"terms\" type=\"checkbox\" v-model=\"terms\"\n\t\t\t\t\t\tclass=\"custom-control-input\"/>\n\t\t\t\t\t\t<label class=\"custom-control-label\" for=\"terms\">\n\t\t\t\t\t\t\tEu concordo com os termos e condições\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<template v-slot:modal-footer>\n\t\t\t\t<b-button variant=\"outline-success\" :disabled=\"!terms\" @click.prevent=\"saveClient()\">Finalizar</b-button>\n\t\t\t</template>\n\t\t</b-modal>\n\t</Layout>\n</template>\n"],"sourceRoot":"src/sales/router/views/pages/ui/forms/wizard"}]}